# ===========================================
# EZAMI API - Production Environment Template
# ===========================================
# Copy this file to .env.production and fill in actual values
# NEVER commit .env.production to git!

COMPOSE_PROJECT_NAME=ezami

# ===========================================
# DATABASE CONFIGURATION
# ===========================================
DB_DRIVER=com.mysql.cj.jdbc.Driver
DB_HOST=<prod-db-host>
DB_PORT=33063
DB_NAME=wordpress
DB_USER=<prod-db-user>
DB_PASS=<prod-db-password>
DB_CHARSET=utf8
DB_URL=jdbc:mysql://${DB_HOST}:${DB_PORT}/${DB_NAME}?useSSL=false&allowPublicKeyRetrieval=true&serverTimezone=Asia/Ho_Chi_Minh&characterEncoding=utf8

# ===========================================
# REDIS CONFIGURATION
# ===========================================
SPRING_REDIS_HOST=<prod-redis-host>
SPRING_REDIS_PORT=6379
SPRING_REDIS_PASSWORD=<prod-redis-password>

# ===========================================
# JWT CONFIGURATION
# ===========================================
JWT_SECRET=<strong-random-secret-key-min-32-chars>
JWT_COOKIE_NAME=accessToken
JWT_COOKIE_MAX_AGE=604800
JWT_COOKIE_SECURE=true
JWT_COOKIE_HTTP_ONLY=true
JWT_COOKIE_SAME_SITE=None

# ===========================================
# GOOGLE OAUTH
# ===========================================
GOOGLE_CLIENT_ID=<google-client-id>
GOOGLE_CLIENT_SECRET=<google-client-secret>
GOOGLE_REDIRECT_URI=https://api-v2.ezami.io/auth/google/callback
GOOGLE_REDIRECT_MOBILE_SUCCESS_URL=com.hth.udecareer://auth
# QUAN TRỌNG: URL này phải trỏ về frontend callback handler
GOOGLE_REDIRECT_WEB_SUCCESS_URL=https://ezami.io/auth/callback

# ===========================================
# REVENUECAT (Subscription Management)
# ===========================================
REVENUECAT_API_BASE_URL=https://api.revenuecat.com/v1
REVENUECAT_SECRET_API_KEY=<revenuecat-secret-key>
REVENUECAT_WEBHOOK_SECRET=<revenuecat-webhook-secret>
REVENUECAT_SUBSCRIBERS_ENDPOINT=/subscribers

# ===========================================
# EMAIL (SMTP)
# ===========================================
MAIL_HOST=smtp.gmail.com
MAIL_PORT=587
MAIL_USERNAME=<email-username>
MAIL_PASSWORD=<email-app-password>
MAIL_FROM=noreply@ezami.io
MAIL_FROM_NAME=Ezami

# ===========================================
# VNPAY (Payment Gateway)
# ===========================================
VNPAY_TMN_CODE=<vnpay-terminal-code>
VNPAY_HASH_SECRET=<vnpay-hash-secret>
VNPAY_API_URL=https://pay.vnpay.vn/vpcpay.html
VNPAY_RETURN_URL=https://api-v2.ezami.io/api/payment/vnpay-status
VNPAY_IPN_URL=https://api-v2.ezami.io/api/payment/vnpay-ipn

# ===========================================
# QR PAYMENT
# ===========================================
QR_DEFAULT_BANK_CODE=<bank-code>
QR_DEFAULT_BANK_ACCOUNT=<bank-account>
QR_TTL_SECONDS=300

# ===========================================
# FIREBASE (Push Notifications)
# ===========================================
FIREBASE_CONFIG_BASE64=<firebase-service-account-json-base64>

# ===========================================
# OPENAI (AI Features)
# ===========================================
OPENAI_API_KEY=<openai-api-key>
OPENAI_API_MODEL=gpt-4o
OPENAI_API_TIMEOUT=30000
OPENAI_MAX_RETRIES=3

# ===========================================
# APPLICATION
# ===========================================
SERVER_PORT=8080
APP_DOMAIN=https://api-v2.ezami.io
ASSET_DOMAIN=https://asset.ezami.io
AFFILIATE_BASE_URL=https://ezami.io
